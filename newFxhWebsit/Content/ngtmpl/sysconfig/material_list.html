<div class="wrapper">

    <ul class="breadcrumb panel">
        <li><a><i class="fa fa-home"></i>通用素材管理</a></li>
    </ul>
    <div class="panel">
        <div class="panel-heading">
            <form>
                <ul class="btn-group pull-left" style="margin-right:12px;">
                    <li><a class="btn btn-danger" ng-click="open()">新增素材</a></li>
                </ul>
                <div class="btn-group pull-left" style="margin-right:12px;">
                    <select class="form-control " ng-model=" category_id" ng-change="getlist()">
                        <option value="-1">类别</option>
                        <option ng-repeat="(key,value) in categoryIds" ng-model="key" value="{{key}}">{{value}}</option>
                    </select>
                </div>
                <div class="form-inline">
                    <input id="searchBtn" type="submit" value="搜索" ng-click="search()" class="btn btn-danger"  />
                </div>
            </form>
        </div>
        <div class="panel-body">
            <table width="100%" border="0" cellpadding="0" cellspacing="0" class="table table-bordered table-striped table-condensed">
                <tr>
                    <th>类别</th>
                    <th>素材图片</th>
                    <th>添加时间</th>
                    <th class="clear_bg">操作</th>
                </tr>
                <tr ng-repeat="item in list">
                    <td>{{item.category_name}}</td>
                    <td><img src="{{item.material_url}}" /></td>
                    <td>{{item.create_dt}}</td>
                    <td class="td_handle">
                        <a href="javascript:void(0)" ng-click="DeleteMaterial(item.material_id)">删除</a>
                        <a href="javascript:void(0)" ng-click="openEdit(item)">修改</a>
                    </td>
                </tr>
            </table>
            <!--<div class="CountTotal">
                <div class="Paging">
                    <ul>
                        <li><a href="javascript:void(0)" ng-click="pager.pre()">上一页</a></li>
                        <li ng-repeat="item in pager.list">
                            <a href="javascript:void(0)" ng-if="item.text =='.'">{{item.text}}</a>
                            <a href="javascript:void(0)" ng-if="item.text != '.'&& !item.disabled " class="c_page">{{item.text}}</a>
                            <a href="javascript:void(0)" ng-if="item.text != '.'&& item.disabled" ng-click="pager.go(item.index)">{{item.text}}</a>
                        </li>
                        <li><a href="javascript:void(0)" ng-click="pager.next()">下一页</a></li>
                    </ul>
                </div>
                <span>共<b>{{count}}</b>条记录</span>
            </div>-->
        </div>
    </div>
</div>
<div class="zhezhao" ng-show="isShow">
    <div class=" Mask  modal-dialog">
        <div class="styleCurrentLocal"><b>通用素材</b></div>
        <div class="styleFillList">
            <dl class="fill_single">
                <dt>类别<span class="requiredstyle">*</span>：</dt>
                <dd>
                    <select ng-model="categoryId" class="drop-menu">
                        <option value="-1">请选择类别</option>
                        <option ng-repeat="(key, value) in categoryIds" ng-selected="{{key==categoryId}}" ng-model="key" value="{{key}}">{{value}}</option>
                    </select>
                </dd>

            </dl>
            <dl class="fill_single">
                <dt>素材图片<span class="requiredstyle">*</span>：</dt>
                <dd>
                    <input ng-hide="imgpath!=undefined && imgpath!=''" accept="image/*" type="file" ngf-select ng-model="file" ngf-max-size="5MB" required
                           ngf-model-invalid="errorFile" ngf-change="uploadImg(file)" />
                    <p ng-hide="imgpath!=undefined && imgpath!=''" style="margin:12px 0;">尺寸：720 ×180像素</p>
                    <div class="imgclose">
                        <img ng-show="imgpath!=undefined && imgpath!=''" src="{{imgpath}}" style="float:left; width:200px;"  /><i ng-click="clearImg()" ng-show="imgpath!=undefined && imgpath!=''"></i>
                    </div>
                </dd>

            </dl>
            <div class="styleButton">
                <input type="button" value="保存" class="btn_confirm" ng-click="AddMaterial(file)">
                <input type="button" value="取消" class="btn_cancel" ng-click="close()">
            </div>
        </div>
    </div>
</div>